{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\TLCN\\\\138_instructor_account_history_and_payouts\\\\client\\\\pages\\\\stripe\\\\callback.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect } from \"react\";\nimport { Context } from \"../../context\";\nimport { SyncOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\n\nvar StripeCallback = function StripeCallback() {\n  _s();\n\n  var _useContext = useContext(Context),\n      user = _useContext.state.user,\n      dispatch = _useContext.dispatch;\n\n  useEffect(function () {\n    if (user) {\n      axios.post(\"/api/get-account-status\").then(function (res) {\n        // console.log(res);\n        dispatch({\n          type: \"LOGIN\",\n          payload: res.data\n        });\n        window.localStorage.setItem(\"user\", JSON.stringify(res.data));\n        window.location.href = \"/instructor\";\n      });\n    }\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(SyncOutlined, {\n    spin: true,\n    className: \"d-flex justify-content-center display-1 text-danger p-5\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(StripeCallback, \"ZjoPPRCpOVJ0F1H5avwrHtG7iog=\");\n\n_c = StripeCallback;\nexport default StripeCallback;\n\nvar _c;\n\n$RefreshReg$(_c, \"StripeCallback\");","map":{"version":3,"sources":["D:/TLCN/138_instructor_account_history_and_payouts/client/pages/stripe/callback.js"],"names":["useContext","useEffect","Context","SyncOutlined","axios","StripeCallback","user","state","dispatch","post","then","res","type","payload","data","window","localStorage","setItem","JSON","stringify","location","href"],"mappings":";;;;;;AAAA,SAASA,UAAT,EAAqBC,SAArB,QAAsC,OAAtC;AACA,SAASC,OAAT,QAAwB,eAAxB;AACA,SAASC,YAAT,QAA6B,mBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAAA;;AAAA,oBAIvBL,UAAU,CAACE,OAAD,CAJa;AAAA,MAEhBI,IAFgB,eAEzBC,KAFyB,CAEhBD,IAFgB;AAAA,MAGzBE,QAHyB,eAGzBA,QAHyB;;AAM3BP,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIK,IAAJ,EAAU;AACRF,MAAAA,KAAK,CAACK,IAAN,CAAW,yBAAX,EAAsCC,IAAtC,CAA2C,UAACC,GAAD,EAAS;AAClD;AACAH,QAAAA,QAAQ,CAAC;AACPI,UAAAA,IAAI,EAAE,OADC;AAEPC,UAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,SAAD,CAAR;AAIAC,QAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,EAAoCC,IAAI,CAACC,SAAL,CAAeR,GAAG,CAACG,IAAnB,CAApC;AACAC,QAAAA,MAAM,CAACK,QAAP,CAAgBC,IAAhB,GAAuB,aAAvB;AACD,OARD;AASD;AACF,GAZQ,EAYN,CAACf,IAAD,CAZM,CAAT;AAcA,sBACE,QAAC,YAAD;AACE,IAAA,IAAI,MADN;AAEE,IAAA,SAAS,EAAC;AAFZ;AAAA;AAAA;AAAA;AAAA,WADF;AAMD,CA1BD;;GAAMD,c;;KAAAA,c;AA4BN,eAAeA,cAAf","sourcesContent":["import { useContext, useEffect } from \"react\";\nimport { Context } from \"../../context\";\nimport { SyncOutlined } from \"@ant-design/icons\";\nimport axios from \"axios\";\n\nconst StripeCallback = () => {\n  const {\n    state: { user },\n    dispatch,\n  } = useContext(Context);\n\n  useEffect(() => {\n    if (user) {\n      axios.post(\"/api/get-account-status\").then((res) => {\n        // console.log(res);\n        dispatch({\n          type: \"LOGIN\",\n          payload: res.data,\n        });\n        window.localStorage.setItem(\"user\", JSON.stringify(res.data));\n        window.location.href = \"/instructor\";\n      });\n    }\n  }, [user]);\n\n  return (\n    <SyncOutlined\n      spin\n      className=\"d-flex justify-content-center display-1 text-danger p-5\"\n    />\n  );\n};\n\nexport default StripeCallback;\n"]},"metadata":{},"sourceType":"module"}